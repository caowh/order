<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cwh.order.producer.dao.SellUserDao">

    <insert id="insert" parameterType="cwh.order.producer.model.SellUser">
      INSERT INTO SELL_USER(openid,phone) VALUES (#{openid},#{phone});
    </insert>

    <update id="updatePhone" parameterType="cwh.order.producer.model.SellUser">
        UPDATE SELL_USER SET phone = #{phone} WHERE openid = #{openid}
    </update>

    <update id="updateStore" parameterType="cwh.order.producer.model.SellUser">
        UPDATE SELL_USER
        <trim prefix="set" suffixOverrides=",">
            <if test="store_name != null">
                store_name = #{store_name},
            </if>
            <if test="region != null">
                region = #{region},
            </if>
            <if test="address != null">
                address = #{address},
            </if>
            <if test="description != null">
                description = #{description},
            </if>
            <if test="headPicture_url != null">
                headPicture_url = #{headPicture_url},
            </if>
            <if test="business != null">
                business = #{business},
            </if>
            <if test="approval != null">
                approval = #{approval},
            </if>
        </trim>
        WHERE openid = #{openid}
    </update>

    <select id="queryPhone" parameterType="java.lang.String" resultType="java.lang.String">
        SELECT phone FROM SELL_USER WHERE openid = #{openid}
    </select>

    <select id="queryNameCountByRegion" parameterType="cwh.order.producer.model.SellUser" resultType="java.lang.Integer">
        SELECT count(0) FROM SELL_USER WHERE region = #{region} AND store_name = #{store_name}
    </select>
</mapper>